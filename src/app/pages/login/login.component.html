<div class="login-wrapper">
  <ng-container [ngSwitch]="data?.step">
    <ng-container
      *ngSwitchCase="'login'"
      [ngTemplateOutlet]="login"
    ></ng-container>
    <ng-container
      *ngSwitchCase="'preRegistration'"
      [ngTemplateOutlet]="preRegistration"
    ></ng-container>
    <ng-container
      *ngSwitchCase="'registration'"
      [ngTemplateOutlet]="registration"
    ></ng-container>
  </ng-container>
</div>

<ng-template #login>
  <div class="title-login">
    <div>Login</div>
  </div>
  <form class="form-login" [formGroup]="loginForm">
    <span class="title-input">Input you email</span>
    <input class="input-text" formControlName="email" type="email" />

    <span class="title-input">Input you password</span>
    <input class="input-text" formControlName="password" type="password" />

    <div class="flex-between mt8">
      <a> Forgot password? </a>
      <a (click)="data.step = 'preRegistration'">Registration</a>
    </div>

    <button
      mat-raised-button
      color="primary"
      class="button-login"
      [disabled]="loginForm.invalid"
      (click)="onSignIn(loginForm.value)"
    >
      Sign In
    </button>
  </form>
</ng-template>

<ng-template #preRegistration>
  <div class="title-login">
    <div>Login</div>
  </div>
  <form class="form-login" [formGroup]="loginForm">
    <span class="title-input">Input you email</span>
    <input class="input-text" formControlName="email" type="email" />
    <div class="flex-end mt8">
      <a (click)="data.step = 'login'">Login</a>
    </div>
    <button
      mat-raised-button
      color="primary"
      class="button-login"
      [disabled]="loginForm.invalid"
      (click)="onCreateUser(loginForm.value)"
    >
      Registration
    </button>
  </form>
</ng-template>

<ng-template #registration>
  <div class="title-login">
    <div>Registration</div>
  </div>

  <form class="form-login" [formGroup]="loginForm">
    <span class="title-input">Input First Name </span>
    <input class="input-text" formControlName="firstName" type="text" />

    <span class="title-input">Input Last Name </span>
    <input class="input-text" formControlName="lastName" type="text" />

    <span class="title-input">Input Password </span>
    <input class="input-text" formControlName="password" type="password" />

    <span class="title-input">Input Repeat Password </span>
    <input
      class="input-text"
      formControlName="repeatPassword"
      type="password"
    />

    <button
      mat-raised-button
      color="primary"
      class="button-login"
      [disabled]="loginForm.invalid"
      (click)="onRegisterUser(loginForm.value)"
    >
      Primary
    </button>
  </form>
</ng-template>
